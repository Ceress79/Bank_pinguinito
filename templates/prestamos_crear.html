{% extends 'layout.html' %}
{% block body %}
<h2>Crear Préstamo</h2>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul>
      {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<form method="POST">
    <label for="id_usuario">Usuario:</label><br>
    <select name="id_usuario" id="id_usuario" required>
        {% for usuario in usuarios %}
        <option value="{{ usuario[0] }}">{{ usuario[1] }} ({{ usuario[0] }})</option>
        {% endfor %}
    </select><br><br>

    <label for="cantidad">Cantidad de préstamo:</label><br>
    <input type="number" step="0.01" name="cantidad" id="cantidad" required><br><br>

    <label for="fecha_inicio">Fecha inicio (YYYY-MM-DD):</label><br>
    <input type="date" name="fecha_inicio" id="fecha_inicio" required><br><br>

    <label for="fecha_limite">Fecha límite a pagar (YYYY-MM-DD):</label><br>
    <input type="date" name="fecha_limite" id="fecha_limite" required><br><br>

    <label for="cuotas">Número de cuotas:</label><br>
    <input type="number" name="cuotas" id="cuotas" required><br><br>

    <label for="garante">Garante:</label><br>
    <input type="text" name="garante" id="garante" required><br><br>

    <button type="submit">Crear préstamo</button>
</form>

<a href="{{ url_for('prestamos.listar_prestamos') }}">Volver a la lista de préstamos</a>
{% endblock %}
